@{
    Layout = "~/Views/Shared/Layout.cshtml";
    var members = ViewBag.Members as List<Member>;

}
@inject Microsoft.AspNetCore.Antiforgery.IAntiforgery Antiforgery
@model BodhScriptClubOfficialUI.Models.Member
@section Scripts {
    <script>
        history.pushState(null, null, location.href);
        window.addEventListener('popstate', function () {
            history.pushState(null, null, location.href); // keep user on current page
        });


    </script>

}
<html lang="en">
<head>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        .passport-preview {
            width: 120px; /* Width of passport photo */
            height: 160px; /* Height of passport photo (3:4 ratio) */
            background-color: #f0f0f0; /* Light gray background */
            display: flex;
            justify-content: center;
            align-items: center;
        }

            .passport-preview img {
                width: 150%;
                height: 150%;
                object-fit: cover; 
            }

        .card {
            transition: background-color 0.5s ease;
        }

        .revolving-text {
            font-weight: bold;
            font-size: 2rem;
            background: linear-gradient(270deg, #ff0000, #ff9900, #33cc33, #3399ff, #cc33ff, #ff0000);
            background-size: 1200% 1200%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: revolveColors 10s linear infinite;
        }

        /* Animate the gradient background */
       @@keyframes revolveColors {
            0%

        {
            background-position: 0% 50%;
        }

        50% {
            background-position: 100% 50%;
        }

        100% {
            background-position: 0% 50%;
        }

        }

        /* Optional: animate card background too */
        .card-body {
            background: linear-gradient(270deg, #ff9966, #ff5e62, #36d1dc, #5b86e5, #ff9966);
            background-size: 800% 800%;
            animation: revolveBg 15s ease infinite;
            border-radius: 15px;
            transition: 0.5s;
        }

        @@keyframes revolveBg {
            0%

        {
            background-position: 0% 50%;
        }

        50% {
            background-position: 100% 50%;
        }

        100% {
            background-position: 0% 50%;
        }

        }

        .btn-loader {
            display: inline-block;
            width: 18px;
            height: 18px;
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-top-color: #fff;
            border-radius: 50%;
            animation: spin 0.8s linear infinite;
            margin-left: 10px;
            vertical-align: middle;
        }

        @@keyframes spin {
            to

        {
            transform: rotate(360deg);
        }

        }

        /* Optional: fade button text when loading */
        .btn.loading .btn-text {
            opacity: 0.6;
        }


    </style>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Bootstrap JS (with Popper) -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

</head>


<body>

    <div class="d-flex justify-content-center align-items-center" style="min-height:120vh;">
        <div class="w-95">
            <!-- ms-5 adds left margin to push right -->
            <div class="card mb-3">
                <div class="card-body text-center">
                    <h2 class="revolving-text">New Members</h2>
                </div>
            </div>

            <!-- Button to open modal -->
            <div class="text-left mb-3">
                <button id="openModalBtn" class="btn btn-primary"
                        data-bs-toggle="modal"
                        data-bs-target="#memberModal">
                    Add New Member
                </button>
            </div>

            <div class="card">
                <div class="card-body">
                    <table id="membersTable" class="table table-striped table-bordered text-center" style="width:100%;">
                        <thead>
                            <tr>
                                <th>Sl.No</th>
                                <th>Name</th>
                                <th>Session</th>
                                <th>Stream</th>
                                <th>Rollno</th>
                                <th>EmailId</th>
                                <th>ContactNo</th>
                                <th>Action</th>
                            </tr>
                        </thead>
                        <tbody>
                            @if (members != null && members.Any())
                            {
                                foreach (var member in members)
                                {
                                    <tr>
                                        <td>@member.Memberid</td>
                                        <td>@member.Membername</td>
                                        <td>@member.MemberSession</td>
                                        <td>@member.Memberstream</td>
                                        <td>@member.MemberRollno</td>
                                        <td>@member.MemberemailId</td>
                                        <td>@member.MembercontactNo</td>
                                        <td>
                                            <a href="javascript:void(0);"
                                               class="btn btn-sm btn-primary"
                                               title="Edit"
                                               onclick="EditItem(@member.Memberid)">
                                                Edit
                                            </a>
                                            <a href="javascript:void(0);"
                                               class="btn btn-sm btn-danger"
                                               title="Delete"
                                               onclick="DeleteItem(@member.Memberid)">
                                                Delete
                                            </a>

                                        </td>
                                    </tr>
                                }
                            }
                            else
                            {
                                <tr>
                                    <td colspan="3" class="text-center">No Members Found</td>
                                </tr>
                            }
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Modal -->
            <!-- Modal -->
            <div class="modal " id="memberModal" tabindex="-1" aria-labelledby="memberModalLabel" aria-hidden="true">
                <div class="modal-dialog modal-xl">
                    <!-- modal-xl goes here -->
                    <div class="modal-content">
                        <div class="modal-header" id="">
                            <h2 class="revolving-text">New Members</h2>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                            <input type="hidden" asp-for="Memberid" />
                            <input type="hidden" id="MemberPicture" name="MemberPicture" />

                             <div class="row mb-3">
                                <div class="col-sm-2">
                                    <div class="passport-preview border rounded overflow-hidden mx-auto">
                                        <img id="picturePreview" src="" class="img-fluid" />
                                    </div>
                                    <div class="row">
                                        <input type="file" class="form-control" id="pictureInput" name="PictureFile" accept="image/*">
                                    </div>
                                </div>
                            </div>
                            <div class="row mb-3">
                                <div class="col-sm-2">
                                    <label class="form-label">Member Name:</label>
                                </div>
                                <div class="col-sm-4">
                                    <input type="text" placeholder="Enter MemberName" class="form-control" asp-for="Membername" />
                                </div>
                                <div class="col-sm-2">
                                    <label class="form-label">Member Stream:</label>
                                </div>
                                <div class="col-sm-4">
                                    <input type="text" placeholder="Enter MemberStream" class="form-control" asp-for="Memberstream" />
                                </div>
                            </div>
                            <div class="row mb-3">
                                <div class="col-sm-2">
                                    <label class="form-label">Member Session:</label>
                                </div>
                                <div class="col-sm-4">
                                    <input type="date" placeholder="" class="form-control" asp-for="MemberSession" />
                                </div>
                                <div class="col-sm-2">
                                    <label class="form-label">Member RollNo:</label>
                                </div>
                                <div class="col-sm-4">
                                    <input type="number" placeholder="Enter Roll-No" class="form-control" asp-for="MemberRollno" />
                                </div>
                            </div>
                            <div class="row mb-3">
                                <div class="col-sm-2">
                                    <label class="form-label">Member Email Id:</label>
                                </div>
                                <div class="col-sm-4">
                                    <input type="email" placeholder="Enter Email Id" class="form-control" asp-for="MemberemailId" />
                                </div>
                                <div class="col-sm-2">
                                    <label class="form-label">Member Contact No:</label>
                                </div>
                                <div class="col-sm-4">
                                    <input type="text" placeholder="Enter Contact-No" class="form-control" asp-for="MembercontactNo" />
                                </div>
                            </div>
                            <div class="row mb-3">
                            <div class="col-sm-10">

                            </div>
                                <div class="col-sm-2">
                                    <button class="btn btn-primary" id="btn_submit" type="button">
                                        <span class="btn-loader" style="display:none;"></span>
                                        Submit
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>


   


</body>
</html>
<!-- Scripts -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<!-- SweetAlert2 CDN -->
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<!-- Bootstrap CSS -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

<!-- Bootstrap JS (with Popper) -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>


<script src="~/js/Member.js"></script>





